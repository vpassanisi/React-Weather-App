(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{160:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(49),o=a.n(c),i=(a(63),a(1)),l=a(50),s=a(53),u=a(51),m=a.n(u),f=Object(n.createContext)(),d=function(e){var t=Object(n.useContext)(f),a=t.getWeather,c=t.getTodaysForecast;return r.a.createElement("div",{className:"bg-blue-gray-900-alpha-70 pt-4 pb-2 rounded-b-md flex w-4/5 xl:w-1/2"},r.a.createElement("div",{className:"w-1/6"}),r.a.createElement("input",{type:"text",placeholder:"location",className:"bg-transparent outline-none text-center text-white text-2xl h-8 w-4/6",onChange:function(t){return e.setLocation(t.target.value)},onKeyDown:function(t){"Enter"===t.key&&(a(e.location),c(e.location),t.target.value="")},onFocus:function(e){return e.target.value=""}}),r.a.createElement("div",{className:"w-1/6 flex flex-row justify-center"},r.a.createElement("button",{className:"inline-block text-white focus:outline-none",onClick:function(){return""!==e.location?(a(e.location),c(e.location)):null}},r.a.createElement("svg",{className:"w-8 h-8 inline-block fill-current",viewBox:"0 0 20 20"},r.a.createElement("path",{d:"M19.129,18.164l-4.518-4.52c1.152-1.373,1.852-3.143,1.852-5.077c0-4.361-3.535-7.896-7.896-7.896\r c-4.361,0-7.896,3.535-7.896,7.896s3.535,7.896,7.896,7.896c1.934,0,3.705-0.698,5.078-1.853l4.52,4.519\r c0.266,0.268,0.699,0.268,0.965,0C19.396,18.863,19.396,18.431,19.129,18.164z M8.567,15.028c-3.568,0-6.461-2.893-6.461-6.461\r s2.893-6.461,6.461-6.461c3.568,0,6.46,2.893,6.46,6.461S12.135,15.028,8.567,15.028z"})))))},h=function(e){var t=Object(n.useContext)(f),a=Object(i.a)(t.currentWeather.observations.location,1)[0],c=a.timezone,o=Object(i.a)(a.observation,1)[0],l=o.city,s=o.state;return r.a.createElement("div",{className:"flex flex-col items-center text-black mt-8 mb-4"},r.a.createElement("div",{className:"text-2xl"},l+" ,"+s),r.a.createElement("div",null,function(e){var t=new Date,a=t.getTime()+6e4*t.getTimezoneOffset();return new Date(a+36e5*e).toLocaleString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})}(c)))},b=function(e){var t=Object(n.useContext)(f),a=Object(i.a)(t.currentWeather.observations.location,1),c=Object(i.a)(a[0].observation,1)[0].temperature;return r.a.createElement("div",{className:"bg-blue-gray-900-alpha-70 p-8 rounded-md"},r.a.createElement("p",{className:"text-6xl text-white font-hairline"},c,e.isMetric?"\xb0C":"\xb0F"))},p=function(e){var t=Object(n.useContext)(f),a=Object(i.a)(t.currentWeather.observations.location,1),c=Object(i.a)(a[0].observation,1)[0],o=c.description,l=c.iconLink;return r.a.createElement("div",{className:"text-black mt-2 text-2xl"},r.a.createElement("div",null,o,r.a.createElement("img",{className:"bg-blue-gray-900-alpha-70 rounded-md inline ml-2 p-2",src:"".concat(l,"?apiKey=").concat("FbkF7HBS4x03_o9G-VTicFHdCF1UrskFVGRd_OwZOmw"),alt:":("})))},g=a(11),v=function(e){var t=Object(n.useContext)(f),a=t.getWeather,c=t.getTodaysForecast;return r.a.createElement("button",{className:"w-full text-white font-hairline text-2xl py-4 px-2 focus:outline-none border-b hover:bg-blue-gray-700 transition duration-500  ease-in-out ".concat(e.selected===e.index?"bg-blue-gray-700":""),onClick:function(){a(e.favorite),c(e.favorite),e.select(e.index)}},e.favorite)},x=function(e){var t=Object(n.useState)(!1),a=Object(i.a)(t,2),c=a[0],o=a[1],l=Object(n.useState)(0),s=Object(i.a)(l,2),u=s[0],m=s[1],d=Object(n.useContext)(f),h=d.getWeather,b=d.getTodaysForecast,p=Object(i.a)(d.currentWeather.observations.location,1),x=Object(i.a)(p[0].observation,1)[0],y=x.city,w=x.state,E=x.country,O=e.favorites,j=function(t){m(0);var a=O[t],n=Object(g.a)(O);n.splice(t,1),n=[a].concat(Object(g.a)(n)),e.setFavorites(n)},F=O.map((function(t,a){return r.a.createElement(v,{key:a,favorite:t,index:a,fetchWeather:e.fetchWeather,selected:u,select:j})}));return document.addEventListener("keydown",(function(e){"Esc"!==e.key&&"Escape"!==e.key||o(!1)})),r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"fixed h-screen flex items-center z-10 transition duration-500 ease-in-out transform".concat(c?"":" -translate-x-56")},r.a.createElement("div",{className:"h-full w-56 left-0 bg-blue-gray-900 border-r-2 border-gray-500 rounded-r-md overflow-y-auto"},r.a.createElement("button",{className:"text-white font-hairline text-2xl w-full py-4 px-2 focus:outline-none over hover:bg-blue-gray-700 transition duration-500  ease-in-out",onClick:function(){e.setIsMetric(!e.isMetric),h(y+" "+w+" "+E,!e.isMetric),b(y+" "+w+" "+E,!e.isMetric)}},e.isMetric?"Farenheit":"Celcius"),r.a.createElement("div",{className:"text-center bg-blue-gray-800 text-white font-hairline text-2xl w-full py-4 px-2 border-b-2"},"Favorites"),F,r.a.createElement("hr",null),r.a.createElement("button",{className:"text-white font-hairline text-2xl w-full py-4 px-2 focus:outline-none hover:bg-blue-gray-700 transition duration-500  ease-in-out",onClick:function(){O=[].concat(Object(g.a)(O),[y+", "+w]),e.setFavorites(O)}},"Add Current +"),r.a.createElement("button",{className:"text-white font-hairline text-2xl w-full py-4 px-2 focus:outline-none hover:bg-blue-gray-700 transition duration-500  ease-in-out",onClick:function(){!function(t){var a=Object(g.a)(O);a.splice(t,1),m(null),e.setFavorites(a)}(u)}},"Remove Selected -")),r.a.createElement("button",{onClick:function(){return o(!c)},className:"inline-block focus:outline-none text-white ".concat(c?"h-full":"")},r.a.createElement("div",{className:"bg-blue-gray-900-alpha-70 rounded-r-md p-2"},r.a.createElement("svg",{className:"h-10 w-10 fill-current",viewBox:"0 0 20 20"},c?r.a.createElement("path",{d:"M8.388,10.049l4.76-4.873c0.303-0.31,0.297-0.804-0.012-1.105c-0.309-0.304-0.803-0.293-1.105,0.012L6.726,9.516c-0.303,0.31-0.296,0.805,0.012,1.105l5.433,5.307c0.152,0.148,0.35,0.223,0.547,0.223c0.203,0,0.406-0.08,0.559-0.236c0.303-0.309,0.295-0.803-0.012-1.104L8.388,10.049z"}):r.a.createElement("path",{d:"M11.611,10.049l-4.76-4.873c-0.303-0.31-0.297-0.804,0.012-1.105c0.309-0.304,0.803-0.293,1.105,0.012l5.306,5.433c0.304,0.31,0.296,0.805-0.012,1.105L7.83,15.928c-0.152,0.148-0.35,0.223-0.547,0.223c-0.203,0-0.406-0.08-0.559-0.236c-0.303-0.309-0.295-0.803,0.012-1.104L11.611,10.049z"}))))),c&&r.a.createElement("button",{tabIndex:"-1",className:"absolute top-0 bottom-0 right-0 left-0 h-full w-full bg-transparent cursor-default focus:outline-none",onClick:function(){return o(!1)}}))},y=a(29),w=function(){var e=Object(n.useContext)(f);y.b.global.animation=!1;var t=e.todaysForecast.hourlyForecasts.forecastLocation.forecast,a=e.todaysForecast.hourlyForecasts.forecastLocation.timezone;return r.a.createElement("div",{className:"bg-blue-gray-900-alpha-70 mt-2 p-4 rounded max-w-2xl",style:{width:"calc(100% - 4rem)"}},r.a.createElement("div",{className:"text-white text-center text-2xl font-hairline"},"Temperature Forecast"),r.a.createElement(y.a,{ref:function(e){return e},redraw:!0,data:function(e){var n={},r=[];t.forEach((function(e){r.push(function(e,t){var a=new Date(e.utcTime),n=a.getTime()+6e4*a.getTimezoneOffset(),r=new Date(n+36e5*t).toLocaleString("en-US",{hour:"2-digit",minute:"2-digit"});return"Invalid Date"===r?"":r}(e,a))})),n.labels=r,n.datasets=[],n.datasets[0]={borderColor:"white",fill:!1};var c=[];return t.forEach((function(e){c.push(e.temperature)})),n.datasets[0].data=c,n},options:{responsive:!0,aspectRatio:2,maintainAspectRatio:!0,legend:{display:!1},scales:{xAxes:[{ticks:{fontColor:"white"},gridLines:{zeroLineColor:"black"}}],yAxes:[{ticks:{fontColor:"white"},gridLines:{zeroLineColor:"black"}}]}}}))};function E(){var e=Object(l.a)(["\nheight: 100vh;\n  min-height: ","",";\n  background: url(",") center center/cover no-repeat;\n"]);return E=function(){return e},e}var O=s.a.div(E(),window.innerWidth<=640?Math.max(document.documentElement.clientHeight,window.innerHeight||0):100,window.innerWidth<=640?"px":"vh",m.a),j=function(){var e=Object(n.useState)(""),t=Object(i.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)(!1),l=Object(i.a)(o,2),s=l[0],u=l[1],m=Object(n.useState)([]),g=Object(i.a)(m,2),v=g[0],y=g[1],E=Object(n.useContext)(f),j=E.getWeather,F=E.getTodaysForecast;return Object(n.useEffect)((function(){var e=JSON.parse(localStorage.getItem("favorites")),t=JSON.parse(localStorage.getItem("isMetric"));localStorage.isMetric?u(t):localStorage.setItem("isMetric",JSON.stringify(!1)),localStorage.favorites?e.length>0?(y(e),j(e[0],JSON.parse(localStorage.getItem("isMetric"))),F(e[0],JSON.parse(localStorage.getItem("isMetric")))):(j("scotts valley",JSON.parse(localStorage.getItem("isMetric"))),F("scotts valley",JSON.parse(localStorage.getItem("isMetric")))):(localStorage.setItem("favorites",JSON.stringify([])),j("scotts valley",!1),F("scotts valley",!1))}),[]),Object(n.useEffect)((function(){localStorage.setItem("favorites",JSON.stringify(v))}),[v]),Object(n.useEffect)((function(){localStorage.setItem("isMetric",JSON.stringify(s))}),[s]),r.a.createElement(O,{className:"w-screen overflow-x-hidden"},r.a.createElement(x,{favorites:v,setFavorites:y,isMetric:s,setIsMetric:u}),r.a.createElement("div",{className:"flex flex-col items-center"},r.a.createElement(d,{setLocation:c,location:a}),r.a.createElement(h,null),r.a.createElement(b,{isMetric:s}),r.a.createElement(p,null),r.a.createElement(w,null)))},F=a(6),S=a.n(F),k=a(18),N=a(31),C=function(e,t){switch(t.type){case"GET_WEATHER":return Object(N.a)({},e,{currentWeather:t.payload,loading:!1});case"GET_TODAY_FORECAST":return Object(N.a)({},e,{todaysForecast:t.payload,loading:!1});default:return e}},T=function(e){var t=Object(n.useReducer)(C,{currentWeather:{observations:{location:[{timezone:0,observation:[{description:"",temperature:"",iconName:"",iconLink:"",country:"",state:"",city:""}]}]}},todaysForecast:{hourlyForecasts:{forecastLocation:{forecast:[{localTime:"",temperature:""}]}}},weeklyForecast:{},loading:!0,error:null}),a=Object(i.a)(t,2),c=a[0],o=a[1],l=function(){var e=Object(k.a)(S.a.mark((function e(t){var a,n,r,c=arguments;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=c.length>1&&void 0!==c[1]&&c[1],e.prev=1,e.next=4,fetch("https://weather.ls.hereapi.com/weather/1.0/report.json?apiKey=".concat("FbkF7HBS4x03_o9G-VTicFHdCF1UrskFVGRd_OwZOmw","&product=observation&name=").concat(t,"&oneobservation=true&metric=").concat(a),{method:"GET"});case 4:return n=e.sent,e.next=7,n.json();case 7:r=e.sent,o({type:"GET_WEATHER",payload:r}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}(),s=function(){var e=Object(k.a)(S.a.mark((function e(t){var a,n,r,c=arguments;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=c.length>1&&void 0!==c[1]&&c[1],e.prev=1,e.next=4,fetch("https://weather.ls.hereapi.com/weather/1.0/report.json?apiKey=".concat("FbkF7HBS4x03_o9G-VTicFHdCF1UrskFVGRd_OwZOmw","&product=forecast_hourly&hourlydate=").concat(new Date(Date.now()).toISOString().split("T")[0],"&name=").concat(t,"&metric=").concat(a),{method:"GET"});case 4:return n=e.sent,e.next=7,n.json();case 7:r=e.sent,console.log(r),o({type:"GET_TODAY_FORECAST",payload:r}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}(),u=function(){var e=Object(k.a)(S.a.mark((function e(t){var a,n,r,c=arguments;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=c.length>1&&void 0!==c[1]&&c[1],e.prev=1,e.next=4,fetch("https://weather.ls.hereapi.com/weather/1.0/report.json?apiKey=".concat("FbkF7HBS4x03_o9G-VTicFHdCF1UrskFVGRd_OwZOmw","&product=forecast_7days_simple&name=").concat(t,"&metric=").concat(a),{method:"GET"});case 4:return n=e.sent,e.next=7,n.json();case 7:r=e.sent,o({type:"GET_WEEK_FORECAST",payload:r}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(f.Provider,{value:{currentWeather:c.currentWeather,todaysForecast:c.todaysForecast,loading:c.loading,error:c.error,getWeather:l,getTodaysForecast:s,getWeeksForecast:u}},e.children)},M=function(){return Object(n.useEffect)((function(){localStorage.favorites||localStorage.setItem("favorites",JSON.stringify([])),localStorage.isMetric||localStorage.setItem("isMetric",JSON.stringify(!1))})),r.a.createElement(T,null,r.a.createElement(j,null))};o.a.render(r.a.createElement(M,null),document.getElementById("root"))},51:function(e,t,a){e.exports=a.p+"static/media/asoggetti-LFjxCbhs0QM-unsplash.9a8fdc8e.jpg"},58:function(e,t,a){e.exports=a(160)},63:function(e,t,a){}},[[58,1,2]]]);
//# sourceMappingURL=main.bd252940.chunk.js.map